<html>

<head>
    <script async src="https://static.codepen.io/assets/embed/ei.js"></script>
    <script src="./knimation.js"></script>
    <link href="https://fonts.googleapis.com/css?family=Space+Mono&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="./railscasts.css">
    <script src="./highlight.min.js"></script>
    <script>
        let path = [];
        let txt = 'KNIMATION';
        let txtl = [];
        function outerHeight(el) {
            var height = el.offsetHeight;
            var style = getComputedStyle(el);
            height += parseInt(style.marginTop) + parseInt(style.marginBottom);
            return height;
        }
        function fit_fontsize_to_pixel_scale(element, destination_pixel_size, direction) {
            element.style.fontSize = '1px';
            let measure = direction ? function (el) {
                let width = el.offsetWidth;
                let style = getComputedStyle(el);
                width += parseInt(style.marginLeft) + parseInt(style.marginRight);
                return width;
            } : function (el) {
                let height = el.offsetHeight;
                let style = getComputedStyle(el);
                height += parseInt(style.marginTop) + parseInt(style.marginBottom);
                return height;
            };
            let set_fontsize = null;
            set_fontsize = fontsize => (element.style.fontSize = fontsize + danwe);
            let get_mesuared_at = idx => (mesuared_list[mesuared_list.length - idx]);
            let danwe = 'em';
            let infinit_loop_breaker = 0;
            let mesuared_list = [];
            let fontsize = destination_pixel_size / 2;
            fontsize = Math.round(fontsize);
            set_fontsize(fontsize);
            mesuared_list[mesuared_list.length] = measure(element);
            while (true) {
                let current_value = get_mesuared_at(1);
                if (current_value === destination_pixel_size) { break; } else {
                    fontsize = fontsize * (destination_pixel_size / current_value);
                    set_fontsize(fontsize);
                    mesuared_list[mesuared_list.length] = measure(element);
                    if (get_mesuared_at(1) < destination_pixel_size && mesuared_list.length >= 4) {
                        let cond = (get_mesuared_at(1) === get_mesuared_at(3)) &&
                            (get_mesuared_at(2) === get_mesuared_at(4)) &&
                            (get_mesuared_at(1) !== get_mesuared_at(2));
                        if (cond) { break; }
                    } else {
                        if (mesuared_list.length >= 3) {
                            if (get_mesuared_at(1) === get_mesuared_at(2) &&
                                get_mesuared_at(2) === get_mesuared_at(3)
                            ) { break; }
                        }
                    }
                    infinit_loop_breaker++;
                    if (infinit_loop_breaker > 10) { break; }
                }
            }
            return {
                fontSize: element.style.fontSize,
                number: fontsize,
                element_pixel: get_mesuared_at(1),
            };
        }
        window.onload = () => {
            function char_width(element) {
                let mgn = 20;
                let dt = stage_moto_width / txt.length;
                fit_fontsize_to_pixel_scale(element, dt - mgn, true);
                return dt;
            }
            let ratio = 0;
            let rbody = document.getElementById('rbody');
            let stage = document.getElementById('stage');
            let stage_moto_width = parseFloat(getComputedStyle(stage, null).width.replace("px", ""));
            let stage_moto_height = parseFloat(getComputedStyle(stage, null).height.replace("px", ""));
            stage.style.top = stage_moto_height;
            let dot = (ch, pos) => {
                let dd = document.createElement('div');
                dd.innerText = ch;
                dd.style.paddingLeft = '15px';
                dd.style.paddingRight = '15px';
                dd.className = 'dot';
                dd.style.color = 'yellow';
                dd.style.position = 'absolute';
                if (pos) {
                    dd.style.left = pos.x + 'px';
                    dd.style.top = pos.y + 'px';
                }
                stage.appendChild(dd);
                return dd;
            };
            txt.split('').map((ch, i) => {
                let dde = dot(ch, { x: (20 * i), y: 100 });
                txtl.push(dde);
            });
            txtl.map((element, i) => {
                let width = char_width(element);
                let toggle = true;
                element.style.left = (10 + (width * i)) + 'px';
                element.style.top = (stage_moto_height - outerHeight(element)) / 2 + 'px';
                let speed = 700;
                Knimation(element, [
                    r => {
                        if (toggle) {
                            toggle = false;
                            setTimeout(r, i * speed);
                        } else {
                            r();
                        }
                    },
                    { top: 30, rotate: 180, duration: speed },
                    { top: -30, rotate: 180, duration: speed },
                    { scale: [1, 1], duration: 1 },
                    { top: -30, scale: [1, 1.3], duration: speed },
                    { top: 30, scale: -0.3, duration: speed },
                    true
                ])
            })
            document.body.onresize = () => {
                ratio = document.body.clientWidth / stage_moto_width;
                if (true) {
                    let ddf = stage_moto_width * ratio;
                    stage.style.marginLeft = (ddf - stage_moto_width) / 2;
                    stage.style.transform = 'scale(' + ratio + ')';
                }
                if (true) {
                    let ddf = stage_moto_height * ratio;
                    stage.style.marginTop = ((ddf - stage_moto_height) / 2) - (stage_moto_height);
                }
                document.body.style.marginTop = 200 * ratio;
            };
            document.body.onresize();
            window.scroll(0, 0);
        };
    </script>
    <style>
        * {
            font-family: 'Space Mono', monospace;

        }

        body {
            margin: 0;
            background-color: black;
        }

        .dot {
            background-color: #000;
            padding: 4px;
            position: absolute;
            border-radius: 30px;
        }

        .stage {
            border: 0px solid red;
            padding: 0px;
            position: absolute;
            width: 700;
            background-color: #666;
            height: 200;
        }

        #rbody {
            background-color: black;
            color: white;
        }
        .github a {
            color: yellow;
        }
        .github {
            background-color: #222;
            padding: 10px;
            border-radius: 10px;
            margin-bottom:10px;
        }

        .npm {
            background-color: #222;
            padding: 10px;
            border-radius: 10px;

        }

        .linkbox {
            padding: 10px;
        }
    </style>
</head>

<body>
    <div class='stage' id='stage'> </div>
    <div id='rbody'>
        <div class='linkbox'>
            <div class="github">
                <a href='https://github.com/kstost/knimation'>https://github.com/kstost/knimation</a>
            </div>
            <div class="npm">
                npm intall knimation
            </div>
        </div>
        <p class="codepen" data-height="265" data-theme-id="default" data-default-tab="js,result" data-user="cssbaby"
            data-slug-hash="vYOXLdQ"
            style="height: 265px; box-sizing: border-box; display: flex; align-items: center; justify-content: center; border: 2px solid; margin: 1em 0; padding: 1em;"
            data-pen-title="vYOXLdQ">
            <span>See the Pen <a href="https://codepen.io/cssbaby/pen/vYOXLdQ">
                    vYOXLdQ</a> by jinji (<a href="https://codepen.io/cssbaby">@cssbaby</a>)
                on <a href="https://codepen.io">CodePen</a>.</span>
        </p>


        <p class="codepen" data-height="265" data-theme-id="default" data-default-tab="js,result" data-user="cssbaby"
            data-slug-hash="JjdRPeg"
            style="height: 265px; box-sizing: border-box; display: flex; align-items: center; justify-content: center; border: 2px solid; margin: 1em 0; padding: 1em;"
            data-pen-title="JjdRPeg">
            <span>See the Pen <a href="https://codepen.io/cssbaby/pen/JjdRPeg">
                    JjdRPeg</a> by jinji (<a href="https://codepen.io/cssbaby">@cssbaby</a>)
                on <a href="https://codepen.io">CodePen</a>.</span>
        </p>


        <p class="codepen" data-height="265" data-theme-id="default" data-default-tab="js,result" data-user="cssbaby"
            data-slug-hash="wvazMQB"
            style="height: 265px; box-sizing: border-box; display: flex; align-items: center; justify-content: center; border: 2px solid; margin: 1em 0; padding: 1em;"
            data-pen-title="wvazMQB">
            <span>See the Pen <a href="https://codepen.io/cssbaby/pen/wvazMQB">
                    wvazMQB</a> by jinji (<a href="https://codepen.io/cssbaby">@cssbaby</a>)
                on <a href="https://codepen.io">CodePen</a>.</span>
        </p>

        <p class="codepen" data-height="265" data-theme-id="default" data-default-tab="js,result" data-user="cssbaby"
            data-slug-hash="RwPGrqd"
            style="height: 265px; box-sizing: border-box; display: flex; align-items: center; justify-content: center; border: 2px solid; margin: 1em 0; padding: 1em;"
            data-pen-title="RwPGrqd">
            <span>See the Pen <a href="https://codepen.io/cssbaby/pen/RwPGrqd">
                    RwPGrqd</a> by jinji (<a href="https://codepen.io/cssbaby">@cssbaby</a>)
                on <a href="https://codepen.io">CodePen</a>.</span>
        </p>
        <p class="codepen" data-height="265" data-theme-id="default" data-default-tab="js,result" data-user="cssbaby"
            data-slug-hash="gOpwPqV"
            style="height: 265px; box-sizing: border-box; display: flex; align-items: center; justify-content: center; border: 2px solid; margin: 1em 0; padding: 1em;"
            data-pen-title="gOpwPqV">
            <span>See the Pen <a href="https://codepen.io/cssbaby/pen/gOpwPqV">
                    gOpwPqV</a> by jinji (<a href="https://codepen.io/cssbaby">@cssbaby</a>)
                on <a href="https://codepen.io">CodePen</a>.</span>
        </p>

        <p class="codepen" data-height="265" data-theme-id="default" data-default-tab="js,result" data-user="cssbaby"
            data-slug-hash="xxGEZej"
            style="height: 265px; box-sizing: border-box; display: flex; align-items: center; justify-content: center; border: 2px solid; margin: 1em 0; padding: 1em;"
            data-pen-title="xxGEZej">
            <span>See the Pen <a href="https://codepen.io/cssbaby/pen/xxGEZej">
                    xxGEZej</a> by jinji (<a href="https://codepen.io/cssbaby">@cssbaby</a>)
                on <a href="https://codepen.io">CodePen</a>.</span>
        </p>

        <p class="codepen" data-height="265" data-theme-id="default" data-default-tab="js,result" data-user="cssbaby"
            data-slug-hash="jOPMaBv"
            style="height: 265px; box-sizing: border-box; display: flex; align-items: center; justify-content: center; border: 2px solid; margin: 1em 0; padding: 1em;"
            data-pen-title="jOPMaBv">
            <span>See the Pen <a href="https://codepen.io/cssbaby/pen/jOPMaBv">
                    jOPMaBv</a> by jinji (<a href="https://codepen.io/cssbaby">@cssbaby</a>)
                on <a href="https://codepen.io">CodePen</a>.</span>
        </p>


        <p class="codepen" data-height="265" data-theme-id="default" data-default-tab="js,result" data-user="cssbaby"
            data-slug-hash="QWbKOgV"
            style="height: 265px; box-sizing: border-box; display: flex; align-items: center; justify-content: center; border: 2px solid; margin: 1em 0; padding: 1em;"
            data-pen-title="QWbKOgV">
            <span>See the Pen <a href="https://codepen.io/cssbaby/pen/QWbKOgV">
                    QWbKOgV</a> by jinji (<a href="https://codepen.io/cssbaby">@cssbaby</a>)
                on <a href="https://codepen.io">CodePen</a>.</span>
        </p>

        <p class="codepen" data-height="265" data-theme-id="default" data-default-tab="js,result" data-user="cssbaby"
            data-slug-hash="NWqRwvz"
            style="height: 265px; box-sizing: border-box; display: flex; align-items: center; justify-content: center; border: 2px solid; margin: 1em 0; padding: 1em;"
            data-pen-title="NWqRwvz">
            <span>See the Pen <a href="https://codepen.io/cssbaby/pen/NWqRwvz">
                    NWqRwvz</a> by jinji (<a href="https://codepen.io/cssbaby">@cssbaby</a>)
                on <a href="https://codepen.io">CodePen</a>.</span>
        </p>

        <p class="codepen" data-height="265" data-theme-id="default" data-default-tab="js,result" data-user="cssbaby"
            data-slug-hash="OJVROZv"
            style="height: 265px; box-sizing: border-box; display: flex; align-items: center; justify-content: center; border: 2px solid; margin: 1em 0; padding: 1em;"
            data-pen-title="OJVROZv">
            <span>See the Pen <a href="https://codepen.io/cssbaby/pen/OJVROZv">
                    OJVROZv</a> by jinji (<a href="https://codepen.io/cssbaby">@cssbaby</a>)
                on <a href="https://codepen.io">CodePen</a>.</span>
        </p>

        <p class="codepen" data-height="265" data-theme-id="default" data-default-tab="js,result" data-user="cssbaby"
            data-slug-hash="qBdaVKN"
            style="height: 265px; box-sizing: border-box; display: flex; align-items: center; justify-content: center; border: 2px solid; margin: 1em 0; padding: 1em;"
            data-pen-title="qBdaVKN">
            <span>See the Pen <a href="https://codepen.io/cssbaby/pen/qBdaVKN">
                    qBdaVKN</a> by jinji (<a href="https://codepen.io/cssbaby">@cssbaby</a>)
                on <a href="https://codepen.io">CodePen</a>.</span>
        </p>


        <p class="codepen" data-height="265" data-theme-id="default" data-default-tab="js,result" data-user="cssbaby"
            data-slug-hash="JjdROQE"
            style="height: 265px; box-sizing: border-box; display: flex; align-items: center; justify-content: center; border: 2px solid; margin: 1em 0; padding: 1em;"
            data-pen-title="JjdROQE">
            <span>See the Pen <a href="https://codepen.io/cssbaby/pen/JjdROQE">
                    JjdROQE</a> by jinji (<a href="https://codepen.io/cssbaby">@cssbaby</a>)
                on <a href="https://codepen.io">CodePen</a>.</span>
        </p>

        <p class="codepen" data-height="265" data-theme-id="default" data-default-tab="js,result" data-user="cssbaby"
            data-slug-hash="RwPGjmx"
            style="height: 265px; box-sizing: border-box; display: flex; align-items: center; justify-content: center; border: 2px solid; margin: 1em 0; padding: 1em;"
            data-pen-title="RwPGjmx">
            <span>See the Pen <a href="https://codepen.io/cssbaby/pen/RwPGjmx">
                    RwPGjmx</a> by jinji (<a href="https://codepen.io/cssbaby">@cssbaby</a>)
                on <a href="https://codepen.io">CodePen</a>.</span>
        </p>

        <p class="codepen" data-height="265" data-theme-id="default" data-default-tab="js,result" data-user="cssbaby"
            data-slug-hash="poJEVBE"
            style="height: 265px; box-sizing: border-box; display: flex; align-items: center; justify-content: center; border: 2px solid; margin: 1em 0; padding: 1em;"
            data-pen-title="poJEVBE">
            <span>See the Pen <a href="https://codepen.io/cssbaby/pen/poJEVBE">
                    poJEVBE</a> by jinji (<a href="https://codepen.io/cssbaby">@cssbaby</a>)
                on <a href="https://codepen.io">CodePen</a>.</span>
        </p>

    </div>
    <!--
    <pre><code class="html"></code></pre>
    <script>hljs.initHighlightingOnLoad();</script>
    -->
</body>

</html>